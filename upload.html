<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
    <link rel="icon" type="image/x-icon" href="/~/img/favicon.ico" />
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
    <link href="/~/css/fineuploader-4.2.1.min.css" rel="stylesheet">
    <link href="/~/css/eyebrow.css" rel="stylesheet">

    <style>
      /* For the bootstrapped demos */
      li.alert-success {
          background-color: #DFF0D8;
      }

      li.alert-error {
          background-color: #F2DEDE;
      }

      .alert-error .qq-upload-failed-text {
          display: inline;
      }
    </style>

    <title>Upload - Eyebrows</title>

</head>
<body>
    <form role="form" method="post" action="/">
        <input type="hidden" name="subfolder" value="${subfolder}">
        <header class="container"><h1 class="col-sm-12" id="content"><img src="/~/img/logo-long.png" /></h1></header>

        <nav class="affix" data-spy="affix" id="nav" data-offset-top="45" role="navigation">
            <ol class="breadcrumb container">
                <a class="btn btn-default" href="${link_dest}" title="Up a Level"><i class="fa fa-level-up fa-flip-horizontal"></i></a>
                <li><a href="/">Home</a></li>

                % for f in nav_folders:
                    <li><a href="/${'/'.join(nav_folders[:loop.index+1])}">${f}</a></li>
                % endfor

                <a class="btn btn-default pull-right" title="Finish" href="${subfolder}">Finish</a>
            </ol>
        </nav>

        <div class="container">
            <div class="col-sm-12">

                <!-- Fine Uploader DOM Element
                ====================================================================== -->
                <div id="bootstrapped-fine-uploader"></div>

                <!-- Fine Uploader template
                ====================================================================== -->
                <script type="text/template" id="qq-template-bootstrap">
                  <div class="qq-uploader-selector qq-uploader span12">
                    <div class="qq-upload-drop-area-selector qq-upload-drop-area span12" qq-hide-dropzone>
                      <span>Drop files here to upload</span>
                    </div>
                    <div class="qq-upload-button-selector qq-upload-button btn btn-success" style="width: auto;">
                      <div><i class="icon-upload icon-white"></i> Test me now and upload a file</div>
                    </div>
                    <span class="qq-drop-processing-selector qq-drop-processing">
                      <span>Processing dropped files...</span>
                      <span class="qq-drop-processing-spinner-selector qq-drop-processing-spinner"></span>
                    </span>
                    <ul class="qq-upload-list-selector qq-upload-list" style="margin-top: 10px; text-align: center;">
                      <li>
                        <div class="qq-progress-bar-container-selector">
                          <div class="qq-progress-bar-selector qq-progress-bar"></div>
                        </div>
                        <span class="qq-upload-spinner-selector qq-upload-spinner"></span>
                        <span class="qq-upload-file-selector qq-upload-file"></span>
                        <span class="qq-upload-size-selector qq-upload-size"></span>
                        <a class="qq-upload-cancel-selector qq-upload-cancel" href="#">Cancel</a>
                        <span class="qq-upload-status-text-selector qq-upload-status-text"></span>
                      </li>
                    </ul>
                  </div>
                </script>

            </div>
        </div>
    </form>
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="/~/js/jquery.fineuploader-4.2.1.min.js"></script>
    <script>
      $(document).ready(function() {
        var uploader = $("#bootstrapped-fine-uploader").fineUploader({
          element: $('#bootstrapped-fine-uploader'),
          request: {
              endpoint: '${subfolder}'
          },
          template: 'qq-template-bootstrap',
          classes: {
              success: 'alert alert-success',
              fail: 'alert alert-error'
          }
        });
      });
    </script>
    <script src="/~/js/eyebrows.js"></script>
</body>
</html>
